import{r as i,a as k,m as V,j as e,i as f,X as L,n as D,l as n,o as F,p as T,q as E}from"./index-BTsS2pso.js";import{A as j}from"./AdminLayout-BwAUwCVx.js";import{S as P}from"./save-Cu27Zcrl.js";import{P as z}from"./plus-dTZDs-Ps.js";import{C as I,P as Z}from"./pen-Aog_UyKV.js";import{T as H}from"./trash-2-CF75nCip.js";import"./useAdminAuth-DPZQ3AaQ.js";import"./users-DQXstw1Y.js";import"./phone-BNs6ey6n.js";const y=["Zap","Lightbulb","Leaf","Shield","Target","Heart","Star","Globe","Rocket","Award"];function Q(){const[a,c]=i.useState(null),[o,d]=i.useState([]),[N,p]=i.useState(!0),[b,g]=i.useState(!1),[w,x]=i.useState(null),[v,m]=i.useState(!1),[r,u]=i.useState({title:"",description:"",icon_name:"Zap",display_order:0,is_active:!0});i.useEffect(()=>{h()},[]);const h=async()=>{p(!0);const[t,s]=await Promise.all([k(),V()]);c(t),d(s),p(!1)},_=async()=>{if(!a)return;g(!0);const t=await D(a.id,{section_label:a.section_label,title:a.title,title_highlight:a.title_highlight,description:a.description});t.success?n.success("About section updated successfully!"):n.error(t.error||"Failed to update about section"),g(!1)},C=async t=>{const s=await T(t.id,{title:t.title,description:t.description,icon_name:t.icon_name,display_order:t.display_order,is_active:t.is_active});s.success?(n.success("Value updated successfully!"),x(null)):n.error(s.error||"Failed to update value")},S=async()=>{const t=await F({...r,display_order:o.length+1});t.success?(n.success("Value added successfully!"),m(!1),u({title:"",description:"",icon_name:"Zap",display_order:0,is_active:!0}),h()):n.error(t.error||"Failed to add value")},A=async t=>{if(!confirm("Are you sure you want to delete this value?"))return;const s=await E(t);s.success?(n.success("Value deleted successfully!"),h()):n.error(s.error||"Failed to delete value")};return N?e.jsx(j,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(f,{className:"w-8 h-8 animate-spin text-cyan-400"})})}):e.jsx(j,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"About Section"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Edit the about section of your landing page"})]}),e.jsxs("button",{onClick:_,disabled:b||!a,className:"flex items-center gap-2 px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors disabled:opacity-50",children:[b?e.jsx(f,{className:"w-4 h-4 animate-spin"}):e.jsx(P,{className:"w-4 h-4"}),"Save Section"]})]}),a&&e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Section Content"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Section Label"}),e.jsx("input",{type:"text",value:a.section_label||"",onChange:t=>c({...a,section_label:t.target.value}),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:a.title||"",onChange:t=>c({...a,title:t.target.value}),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title Highlight"}),e.jsx("input",{type:"text",value:a.title_highlight||"",onChange:t=>c({...a,title_highlight:t.target.value}),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description||"",onChange:t=>c({...a,description:t.target.value}),rows:4,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 resize-none"})]})]})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Value Cards"}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),"Add Value"]})]}),v&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("input",{type:"text",value:r.title,onChange:t=>u({...r,title:t.target.value}),placeholder:"Title",className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsx("select",{value:r.icon_name,onChange:t=>u({...r,icon_name:t.target.value}),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:y.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsx("textarea",{value:r.description,onChange:t=>u({...r,description:t.target.value}),placeholder:"Description",rows:2,className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500 resize-none mb-4"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Add"})]})]}),e.jsx("div",{className:"space-y-3",children:o.map(t=>e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:w===t.id?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:t.title,onChange:s=>d(o.map(l=>l.id===t.id?{...l,title:s.target.value}:l)),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-cyan-500"}),e.jsx("select",{value:t.icon_name,onChange:s=>d(o.map(l=>l.id===t.id?{...l,icon_name:s.target.value}:l)),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:y.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("textarea",{value:t.description,onChange:s=>d(o.map(l=>l.id===t.id?{...l,description:s.target.value}:l)),rows:2,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-cyan-500 resize-none"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:s=>d(o.map(l=>l.id===t.id?{...l,is_active:s.target.checked}:l)),className:"w-4 h-4 rounded border-slate-600 bg-slate-700"}),"Active"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(null),className:"p-2 text-slate-400 hover:text-white transition-colors",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(t),className:"p-2 text-green-400 hover:text-green-300 transition-colors",children:e.jsx(I,{className:"w-4 h-4"})})]})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:t.title}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-700 text-slate-400",children:t.icon_name}),!t.is_active&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-400",children:"Inactive"})]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:t.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(t.id),className:"p-2 text-slate-400 hover:text-cyan-400 transition-colors",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(t.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:e.jsx(H,{className:"w-4 h-4"})})]})]})},t.id))})]})]})})}export{Q as AboutAdmin};
