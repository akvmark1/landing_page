import{r as i,s as T,j as e,i as B,X as N,l as u,t as A,v as G,w as K}from"./index-BTsS2pso.js";import{A as R}from"./AdminLayout-BwAUwCVx.js";import{T as w}from"./trash-2-CF75nCip.js";import{P as C}from"./plus-dTZDs-Ps.js";import{C as Q,P as O}from"./pen-Aog_UyKV.js";import{C as X,a as H}from"./chevron-up-BDxL_Q9O.js";import"./useAdminAuth-DPZQ3AaQ.js";import"./users-DQXstw1Y.js";import"./phone-BNs6ey6n.js";const E=["Lightbulb","Award","Users","Target","Star","Globe","Rocket","Brain","Briefcase","GraduationCap"];function ae(){const[o,n]=i.useState([]),[L,k]=i.useState(!0),[f,F]=i.useState(null),[P,y]=i.useState(null),[q,v]=i.useState(!1),[p,_]=i.useState(!1),[d,g]=i.useState([]),[a,c]=i.useState({name:"",role:"",expertise:[],description:"",quote:"",image_url:"",color:"#00d4ff",secondary_color:"#0066ff",icon_name:"Lightbulb",linkedin_url:"",display_order:0,is_active:!0}),[h,j]=i.useState("");i.useEffect(()=>{b()},[]);const b=async()=>{k(!0);const s=await T();n(s),k(!1)},D=async s=>{const r=await K(s.id,s);r.success?(u.success("Mentor updated successfully!"),y(null)):u.error(r.error||"Failed to update mentor")},U=async()=>{const s=await G({...a,display_order:o.length+1});s.success?(u.success("Mentor added successfully!"),v(!1),c({name:"",role:"",expertise:[],description:"",quote:"",image_url:"",color:"#00d4ff",secondary_color:"#0066ff",icon_name:"Lightbulb",linkedin_url:"",display_order:0,is_active:!0}),b()):u.error(s.error||"Failed to add mentor")},$=async s=>{if(!confirm("Are you sure you want to delete this mentor?"))return;const r=await A(s);r.success?(u.success("Mentor deleted successfully!"),b()):u.error(r.error||"Failed to delete mentor")},M=()=>{_(!p),g([])},z=s=>{d.includes(s)?g(d.filter(r=>r!==s)):g([...d,s])},I=async()=>{if(d.length===0){u.error("Please select mentors to remove");return}if(!confirm(`Are you sure you want to delete ${d.length} mentor(s)?`))return;let s=0;for(const r of d)(await A(r)).success&&s++;s>0?(u.success(`${s} mentor(s) removed successfully!`),_(!1),g([]),b()):u.error("Failed to remove mentors")},m=s=>{h.trim()&&(s?n(o.map(r=>r.id===s?{...r,expertise:[...r.expertise||[],h.trim()]}:r)):c({...a,expertise:[...a.expertise,h.trim()]}),j(""))},S=(s,r)=>{s?n(o.map(x=>x.id===s?{...x,expertise:x.expertise.filter((l,t)=>t!==r)}:x)):c({...a,expertise:a.expertise.filter((x,l)=>l!==r)})};return L?e.jsx(R,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(B,{className:"w-8 h-8 animate-spin text-cyan-400"})})}):e.jsx(R,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Mentors"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your mentors section"})]}),e.jsx("div",{className:"flex gap-3",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:I,disabled:d.length===0,className:"flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(w,{className:"w-4 h-4"}),"Remove (",d.length,")"]}),e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:[e.jsx(N,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-6 py-3 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:[e.jsx(w,{className:"w-4 h-4"}),"Remove Mentor"]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:[e.jsx(C,{className:"w-4 h-4"}),"Add Mentor"]})]})})]}),q&&e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Add New Mentor"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",value:a.name,onChange:s=>c({...a,name:s.target.value}),placeholder:"Name",className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsx("input",{type:"text",value:a.role,onChange:s=>c({...a,role:s.target.value}),placeholder:"Role",className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"})]}),e.jsx("textarea",{value:a.description,onChange:s=>c({...a,description:s.target.value}),placeholder:"Description",rows:3,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500 resize-none"}),e.jsx("textarea",{value:a.quote,onChange:s=>c({...a,quote:s.target.value}),placeholder:"Quote",rows:2,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500 resize-none"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("select",{value:a.icon_name,onChange:s=>c({...a,icon_name:s.target.value}),className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:E.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("input",{type:"color",value:a.color,onChange:s=>c({...a,color:s.target.value}),className:"w-full h-12 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer"}),e.jsx("input",{type:"color",value:a.secondary_color,onChange:s=>c({...a,secondary_color:s.target.value}),className:"w-full h-12 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Expertise"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.expertise.map((s,r)=>e.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm",children:[s,e.jsx("button",{onClick:()=>S(null,r),className:"hover:text-red-400",children:e.jsx(N,{className:"w-3 h-3"})})]},r))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h,onChange:s=>j(s.target.value),placeholder:"Add expertise...",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500",onKeyPress:s=>s.key==="Enter"&&m(null)}),e.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:e.jsx(C,{className:"w-4 h-4"})})]})]}),e.jsx("input",{type:"text",value:a.image_url||"",onChange:s=>c({...a,image_url:s.target.value}),placeholder:"Image URL (optional)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsx("input",{type:"text",value:a.linkedin_url||"",onChange:s=>c({...a,linkedin_url:s.target.value}),placeholder:"LinkedIn URL (optional)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:U,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Add Mentor"})]})]})]}),e.jsx("div",{className:"space-y-4",children:o.map(s=>{var r,x;return e.jsxs("div",{className:`bg-slate-900 border rounded-xl overflow-hidden transition-all ${p&&d.includes(s.id)?"border-red-500 bg-red-500/10":"border-slate-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:()=>p?z(s.id):F(f===s.id?null:s.id),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[p&&e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${d.includes(s.id)?"border-red-500 bg-red-500":"border-slate-500"}`,children:d.includes(s.id)&&e.jsx(Q,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${s.color}, ${s.secondary_color})`},children:s.name.split(" ").map(l=>l[0]).join("").slice(0,2)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:s.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:s.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s.is_active&&e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-yellow-500/20 text-yellow-400",children:"Inactive"}),!p&&(f===s.id?e.jsx(X,{className:"w-5 h-5 text-slate-400"}):e.jsx(H,{className:"w-5 h-5 text-slate-400"}))]})]}),f===s.id&&e.jsx("div",{className:"border-t border-slate-800 p-4",children:P===s.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",value:s.name,onChange:l=>n(o.map(t=>t.id===s.id?{...t,name:l.target.value}:t)),placeholder:"Name",className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500"}),e.jsx("input",{type:"text",value:s.role,onChange:l=>n(o.map(t=>t.id===s.id?{...t,role:l.target.value}:t)),placeholder:"Role",className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500"})]}),e.jsx("textarea",{value:s.description,onChange:l=>n(o.map(t=>t.id===s.id?{...t,description:l.target.value}:t)),placeholder:"Description",rows:3,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 resize-none"}),e.jsx("textarea",{value:s.quote,onChange:l=>n(o.map(t=>t.id===s.id?{...t,quote:l.target.value}:t)),placeholder:"Quote",rows:2,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 resize-none"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("select",{value:s.icon_name,onChange:l=>n(o.map(t=>t.id===s.id?{...t,icon_name:l.target.value}:t)),className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:E.map(l=>e.jsx("option",{value:l,children:l},l))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Primary Color"}),e.jsx("input",{type:"color",value:s.color,onChange:l=>n(o.map(t=>t.id===s.id?{...t,color:l.target.value}:t)),className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Secondary Color"}),e.jsx("input",{type:"color",value:s.secondary_color,onChange:l=>n(o.map(t=>t.id===s.id?{...t,secondary_color:l.target.value}:t)),className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Expertise"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(r=s.expertise)==null?void 0:r.map((l,t)=>e.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm",children:[l,e.jsx("button",{onClick:()=>S(s.id,t),className:"hover:text-red-400",children:e.jsx(N,{className:"w-3 h-3"})})]},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h,onChange:l=>j(l.target.value),placeholder:"Add expertise...",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500",onKeyPress:l=>l.key==="Enter"&&m(s.id)}),e.jsx("button",{onClick:()=>m(s.id),className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:e.jsx(C,{className:"w-4 h-4"})})]})]}),e.jsx("input",{type:"text",value:s.image_url||"",onChange:l=>n(o.map(t=>t.id===s.id?{...t,image_url:l.target.value}:t)),placeholder:"Image URL (optional)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsx("input",{type:"text",value:s.linkedin_url||"",onChange:l=>n(o.map(t=>t.id===s.id?{...t,linkedin_url:l.target.value}:t)),placeholder:"LinkedIn URL (optional)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-400 focus:outline-none focus:border-cyan-500"}),e.jsxs("label",{className:"flex items-center gap-2 text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:s.is_active,onChange:l=>n(o.map(t=>t.id===s.id?{...t,is_active:l.target.checked}:t)),className:"w-4 h-4 rounded border-slate-600 bg-slate-700"}),"Active"]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>D(s),className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Save"})]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-300 mb-2",children:s.description}),e.jsxs("p",{className:"text-slate-400 italic mb-4",children:['"',s.quote,'"']}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(x=s.expertise)==null?void 0:x.map((l,t)=>e.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-full text-sm",children:l},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>y(s.id),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:[e.jsx(O,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>$(s.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:[e.jsx(w,{className:"w-4 h-4"}),"Delete"]})]})]})})]},s.id)})})]})})}export{ae as MentorsAdmin};
