import{a3 as t,a4 as s}from"./index-BTsS2pso.js";const r=t()(s((e,n)=>({isAuthenticated:!1,isLoading:!1,login:async a=>{e({isLoading:!0});try{return(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a}),credentials:"include"})).ok?(e({isAuthenticated:!0,isLoading:!1}),!0):(e({isAuthenticated:!1,isLoading:!1}),!1)}catch(i){return console.error("Login error:",i),e({isAuthenticated:!1,isLoading:!1}),!1}},logout:async()=>{e({isLoading:!0});try{await fetch("/api/admin/logout",{method:"POST",credentials:"include"}),e({isAuthenticated:!1,isLoading:!1})}catch(a){console.error("Logout error:",a),e({isAuthenticated:!1,isLoading:!1})}},checkAuth:async()=>{e({isLoading:!0});try{const a=await fetch("/api/admin/status",{credentials:"include"});if(a.ok){const i=await a.json();e({isAuthenticated:i.isAuthenticated,isLoading:!1})}else e({isAuthenticated:!1,isLoading:!1})}catch(a){console.error("Auth check error:",a),e({isAuthenticated:!1,isLoading:!1})}}}),{name:"admin-auth",partialize:e=>({isAuthenticated:e.isAuthenticated})}));export{r as u};
